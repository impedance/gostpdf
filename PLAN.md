# План разработки MVP Markdown → PDF

## Параллельные задачи (приоритетные, начать сразу)
- **Walker и структура** (Dev1): реализовать `walker.py` по `hierarchy-analysis.md`, добавить минимальные фикстуры в `tests/fixtures`, покрыть порядок обхода и предупреждения.
- **Резолв картинок** (Dev2): реализовать `images.py` (`strip_numeric`, `resolve_image_path`, `rewrite_images`), тесты на маппинг путей и переписывание ссылок, учесть ветки `cert/nocert`.
- **Скелет сборки бандла** (Dev3): задать интерфейс `bundle.build(order, image_resolver) -> str`, интеграционный тест на фикстурах (пока с заглушками walker/images), подготовить разделители/метаданные по PRD.
- **Конфиг** (любой свободный): `config.py` для чтения/валидации `config/project.yml` и стиля/шаблона; тесты на ошибки путей.

## Последовательные/блокирующие шаги
- Интеграция `bundle` с реальными `walker` и `images` после готовности параллельных задач.
- `pandoc_runner.py`: сбор аргументов, вызов Pandoc/xelatex, мок-тесты subprocess; базовая смоук-проверка рендера на фикстурах.
- `cli.py`: парсинг флагов (`--md-dir`, `--config`, `--style`, output), связывание модулей, человекочитаемые ошибки; CLI-smoke с моками runner.
- Финал MVP: `ruff check . && ruff format . && pytest`, опционально реальный рендер на малом дереве, обновление DoD и краткий отчёт по результатам.

## Общие правила по задачам
- После завершения каждой задачи прогонять `ruff check .`, `ruff format .`, `pytest` (или эквивалентные проверки), фиксировать результат.
- Обновлять Definition of Done для задачи сразу по итогам выполнения.

## Прогресс (чекбоксы)
- [ ] Walker и структура (`walker.py`, фикстуры, тесты)
- [ ] Резолв картинок (`images.py`, переписывание ссылок, тесты)
- [ ] Сборка бандла (`bundle.py`, интеграционные тесты)
- [ ] Конфиг (`config.py`, валидация, тесты)
- [ ] Pandoc runner (`pandoc_runner.py`, мок-тесты, смоук рендер)
- [ ] CLI (`cli.py`, CLI-smoke с моками runner)
- [ ] Финальный прогон линтов/тестов и DoD, опционально реальный рендер
