# Отслеживание изменений аппаратной конфигурации

Для отслеживания изменений аппаратной конфигурации на АРМ нужно назначить класс rcc_hardware_inventory группе узлов:

1. перейти в меню "Настройки → Группы узлов";
2. нажать кнопку `Создать группу узлов`;
3. заполнить поле "Имя" (например, servers) и выбрать значение в списке "Окружение";
4. нажать кнопку `Применить`.

Будет создана группа узлов servers.

Далее необходимо перейти в созданную группу узлов servers и добавить на вкладке "Puppet ENC" два класса: rcc_hardware_inventory и rcc_software_inventory. Перед сохранением настроек классов следует убедиться, что они включены для группы узлов. Раздел для включения классов находится в нижней части текущего окна (рисунок 136).

Нажать кнопку `Применить`.

::sign-image
---
src: /image150.png
sign: Рисунок 136 — Добавление классов в группу узлов
---
::

Затем нужно перейти в меню "Узлы → Все Узлы" и указать АРМ, который будет добавлен в созданную группу для отслеживания изменений в аппаратной конфигурации. В списке "Действия" требуется выбрать пункт "Изменить группу" (рисунок 137).

::sign-image
---
src: /image151.png
sign: Рисунок 137 — Смена группы для выбранных АРМ
---
::

Далее следует нажать на выпадающий список "Группа узлов", выбрать группу servers и нажать кнопку `Применить` (рисунок 138).

::sign-image
---
src: /image152.png
sign: Рисунок 138 — Выбор группы узлов
---
::

После этого АРМ будет добавлен в группу servers.

После запуска Puppet-агента на выбранных АРМ будет создана первоначальная конфигурация оборудования и установленного ПО на текущий момент.

Для проверки работы классов rcc_hardware_inventory и rcc_software_inventory нужно:

1. отключить ПК и добавить оперативную память (например, с 4 Гб до 8 Гб);
2. перезапустить ПК и войти под учетной записью пользователя;
3. после входа пользователя будет запущен Puppet-агент и изменения конфигурации АРМ отобразятся в Комплексе.

Для просмотра изменений можно войти в меню "Узлы → Все Узлы", выбрать ПК, на котором был изменен объем оперативной памяти, и выбрать пункт меню "Факты" через пиктограмму (три точки) (рисунок 139).

::sign-image
---
src: /image154.png
sign: Рисунок 139 — Переход в пункт меню "Факты"
---
::

Далее с помощью строки поиска нужно найти класс rcc_hardware и нажать на changes_log.

На экран будут выведены параметры add и del, нажав на которые можно посмотреть журнал подключения или отключения оборудования на выбранном узле.